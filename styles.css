:root{
  --bg:#0f1419;           /* dark slate */
  --fg:#e9eef3;           /* soft foreground */
  --muted:#a8b3c1;        /* gentle muted */
  --accent:#7cc4b8;       /* soft teal */
  --accent-rgb:124,196,184; /* for rgba() usages */
  --nav-h: 64px; /* fallback, sovrascritto da JS */
  --ease:cubic-bezier(.22,.61,.36,1);
}

html{ scroll-behavior:smooth; }
body{
  margin:0;
  background:
    radial-gradient(1200px 600px at 80% 10%, rgba(var(--accent-rgb), .08), transparent 55%),
    radial-gradient(900px 500px at 15% 85%, rgba(var(--accent-rgb), .06), transparent 50%),
    linear-gradient(180deg,#0e1318,#0c1116 60%, #0f1419);
  color:var(--fg);
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  line-height:1.5;
}

.navbar{
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
  background: transparent;
  border-bottom: 0;
  box-shadow: none;
  backdrop-filter: none;
  transition: background .3s var(--ease), border-color .3s var(--ease), box-shadow .3s var(--ease), backdrop-filter .3s var(--ease);
}
/* Solid navbar when the hero ends */
.navbar.nav--solid{
  background: rgba(10,14,18,.9);
  border-bottom:1px solid rgba(var(--accent-rgb), .35);
  box-shadow:0 10px 30px -20px rgba(0,0,0,.6);
  backdrop-filter: blur(12px) saturate(160%);
}

.navbar::after{
  content:"";
  position:absolute;
  left:50%;
  bottom:0;
  width:160px;
  height:2px;
  transform:translateX(-50%);
  background:radial-gradient(circle, rgba(var(--accent-rgb), .6) 0%, transparent 70%);
  opacity:.8;
  animation:navPulse 3.6s ease-in-out infinite;
  pointer-events:none;
}
@keyframes navPulse{
  0%,100%{ opacity:.25; transform:translateX(-50%) scaleX(.6); }
  50%{ opacity:.9; transform:translateX(-50%) scaleX(1.2); }
}
.navbar-brand{
  font-weight:700;
  letter-spacing:.6px;
  background:linear-gradient(90deg,#ffffff,var(--accent),#ffffff);
  background-size:200% 100%;
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  animation:brandFlow 4s linear infinite;
}

@keyframes brandFlow{
  0%{ background-position:0% 50%; }
  100%{ background-position:200% 50%; }
}
.navbar-toggler-icon{
  filter:invert(1);
}
.nav-link{
  position:relative;
  transition:color .25s ease, opacity .25s ease;
  color:#f7f7f7 !important;
  opacity:.85;
}
.nav-link::before{
  content:"";
  position:absolute;
  left:50%;
  bottom:-6px;
  width:24px;
  height:2px;
  background:linear-gradient(90deg,var(--accent),transparent);
  transform:translateX(-50%) scaleX(0);
  opacity:0;
  transition:transform .3s var(--ease), opacity .3s var(--ease);
}
.nav-link.active,
.nav-link:hover{
  opacity:1;
  color:#fff !important;
}
.nav-link.active::before,
.nav-link:hover::before{
  transform:translateX(-50%) scaleX(1);
  opacity:1;
}

h1,h2,h3{
  font-family:"Space Grotesk",system-ui,sans-serif;
  letter-spacing:.5px;
}

.hero{
  height: calc(100dvh - var(--nav-h));
  box-sizing: border-box;
  display:flex; align-items:center;
  padding: clamp(32px, 6vh, 64px) 0 clamp(40px, 6vh, 56px);
  position: relative;
  overflow: hidden; /* clip bg image */
}
@supports not (height: 100dvh){
  .hero{ height: calc(100vh - var(--nav-h)); }
}

/* Hero typography: pulita, senza contorni/righe */
.hero .display-4{
  font-family: "Lora", serif;
  font-weight: 700;
  font-style: italic;
  letter-spacing: .2px;
  line-height: 1.08;
  -webkit-text-stroke: 0;           /* rimuove il bordo */
  text-shadow: none;                 /* rimuove le ombre stratificate */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}
.hero .lead{
  font-family: "Manrope", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-weight: 600;
  letter-spacing: .1px;
  line-height: 1.4;
  color: var(--fg);
  text-shadow: none;                 /* pulito, senza righe/ombre */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Hero: soft shadows to detach text from the background */
.hero .display-4{
  text-shadow:
    0 2px 8px rgba(0,0,0,.45),
    0 6px 24px rgba(0,0,0,.35);
}
.hero .lead{
  text-shadow:
    0 1px 6px rgba(0,0,0,.35),
    0 4px 18px rgba(0,0,0,.28);
}

/* Slightly stronger on very small screens */
@media (max-width: 576px){
  .hero .display-4{
    text-shadow:
      0 2px 10px rgba(0,0,0,.5),
      0 8px 28px rgba(0,0,0,.4);
  }
  .hero .lead{
    text-shadow:
      0 1px 8px rgba(0,0,0,.4),
      0 6px 22px rgba(0,0,0,.32);
  }
}

.btn-accent{
  --bs-btn-color:#fff;
  --bs-btn-bg:var(--accent);
  --bs-btn-border-color:var(--accent);
  --bs-btn-hover-bg: color-mix(in oklab, var(--accent), #ffffff 12%);
  --bs-btn-hover-border-color: color-mix(in oklab, var(--accent), #ffffff 12%);
  --bs-btn-active-bg: color-mix(in oklab, var(--accent), #ffffff 18%);
  --bs-btn-active-border-color: color-mix(in oklab, var(--accent), #ffffff 18%);
  box-shadow:0 8px 24px -12px rgba(var(--accent-rgb), .45);
}

.section-title{
  font-size:clamp(1.8rem,4vw,2.4rem);
  margin-bottom:1.2rem;
  position:relative;
}
.section-title::after{
  content:"";
  position:absolute;
  left:0;
  bottom:-6px;
  width:120px;
  height:2px;
  background:linear-gradient(90deg,var(--accent),transparent);
}

.photo-card{
  background:linear-gradient(160deg,#111,#0b0b0c);
  border:1px solid rgba(var(--accent-rgb), .18);
  border-radius:14px;
  overflow:hidden;
  transition:transform .4s cubic-bezier(.22,.61,.36,1), box-shadow .4s cubic-bezier(.22,.61,.36,1);
  display:flex;
  flex-direction:column;
  height:420px;           /* altezza uniforme desktop/tablet */
  width:100%;
}
.photo-card:hover{
  transform:translateY(-6px);
  box-shadow:0 20px 40px -24px rgba(var(--accent-rgb), .35);
}
.photo-card img{
  width:100%;
  height:240px;
  object-fit:cover;
  display:block;
  /* mantiene un'area media costante per l'immagine */
  height:240px;
  flex:0 0 auto;
}
.photo-card h3{
  font-size:1.05rem;
  margin:.75rem .75rem .35rem;
  flex:0 0 auto;
}
.photo-card p{
  font-size:.85rem;
  color:var(--muted);
  margin:0 .75rem 1rem;
  flex:1 1 auto;                /* occupa lo spazio rimanente */
  overflow:hidden;              /* evita overflow */
  display:-webkit-box;          /* multi-line clamp */
  line-clamp:3;         /* max 3 righe */
  box-orient:vertical;
}

/* Portfolio: mostra più righe per la descrizione delle card specifiche */
.photo-card[data-gallery="sport"] p{
  line-clamp: 6;
  -webkit-line-clamp: 6;
}
.photo-card[data-gallery="panoramiche"] p{
  line-clamp: 6;
  -webkit-line-clamp: 6;
}

/* About: profile image styling */
.about__profile-wrap{
  display:flex;
  justify-content:center;
  margin-bottom:20px;
}
.about__profile-img{
  width:140px;
  height:140px;
  border-radius:50%;
  object-fit:cover;
  border:3px solid rgba(255,43,43,.4);
  box-shadow:0 8px 24px rgba(255,43,43,.25), 0 0 0 1px rgba(255,43,43,.15);
  transition:transform .3s ease, box-shadow .3s ease;
}
.about__profile-img:hover{
  transform:scale(1.05);
  box-shadow:0 12px 32px rgba(255,43,43,.35), 0 0 0 2px rgba(255,43,43,.3);
}

@media (max-width: 768px){
  .about__profile-img{
    width:120px;
    height:120px;
  }
}

.about-box,
.contact-box{
  background:linear-gradient(180deg,#101012,#0b0b0c);
  border:1px solid rgba(var(--accent-rgb), .25);
  border-radius:16px;
  padding:32px 28px;
}
.insta-frame{
  background:linear-gradient(180deg,#0f0f11,#0a0a0b);
  padding:12px;
  display:flex;
  justify-content:center;
}
.insta-frame blockquote{
  width:100%;
  max-width:520px;
  min-height:520px;
  margin:0 auto;
}
@media (max-width: 768px){
  .insta-frame blockquote{
    min-height:460px;
  }
}

a,
.link-accent{
  color:var(--accent);
  text-decoration:none;
}
a:hover{
  color: color-mix(in oklab, var(--accent), #ffffff 18%);
}

footer{
  padding:36px 0 70px;
  font-size:.85rem;
  color:var(--muted);
}
footer .footer-logo{
  height: 100px; /* was 28px */
  opacity: .75;
  transition: opacity .2s ease;
}
footer .footer-logo:hover{ opacity: 1; }

@media (min-width: 768px){
  footer .footer-logo{ height: 100px; } /* was 32px */
}

.badge-skill{
  background:rgba(var(--accent-rgb), .14);
  border:1px solid rgba(var(--accent-rgb), .35);
  padding:.5rem .75rem;
  border-radius:24px;
  font-size:.7rem;
  letter-spacing:.5px;
  text-transform:uppercase;
  color:#fff;
}

/* Portfolio: colonne con altezza uniforme e card a misura fissa */
#portfolio .row.g-4 > [class*="col-"]{
  display: flex; /* forza l'allineamento delle card in altezza */
}
.photo-card{
  /* ...existing code... */
  display:flex;
  flex-direction:column;
  height:420px;           /* altezza uniforme desktop/tablet */
  width:100%;
}
.photo-card img{
  /* ...existing code... */
  /* mantiene un'area media costante per l'immagine */
  height:240px;
  flex:0 0 auto;
}
.photo-card h3{
  /* ...existing code... */
  flex:0 0 auto;
}
.photo-card p{
  /* ...existing code... */
  flex:1 1 auto;                /* occupa lo spazio rimanente */
  overflow:hidden;              /* evita overflow */
  display:-webkit-box;          /* multi-line clamp */
  line-clamp:3;         /* max 3 righe */
  box-orient:vertical;
}

/* Mobile: card sempre uguali ma leggermente più compatte */
@media (max-width: 576px){
  .photo-card{ height:400px; }
  .photo-card img{ height:220px; }
}

/* Lightbox: full-screen modal con backdrop oscurato */
.lightbox{
  position:fixed;
  inset:0;
  z-index:9999;
  background:rgba(0,0,0,.95);
  display:none;
  align-items:center;
  justify-content:center;
  opacity:0;
  transition:opacity .35s ease;
}
.lightbox.active{
  display:flex;
  opacity:1;
}
.lightbox__content{
  position:relative;
  max-width:90vw;
  max-height:90vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:16px;
}
.lightbox__content img{
  max-width:100%;
  max-height:80vh;
  object-fit:contain;
  border-radius:8px;
  box-shadow:0 20px 60px rgba(0,0,0,.7);
}
.lightbox__counter{
  color:#fff;
  font-size:.9rem;
  text-align:center;
  opacity:.75;
}
.lightbox__close,
.lightbox__prev,
.lightbox__next{
  position:absolute;
  background:rgba(var(--accent-rgb), .18);
  border:1px solid rgba(var(--accent-rgb), .45);
  color:#fff;
  font-size:2rem;
  width:50px;
  height:50px;
  border-radius:50%;
  display:grid;
  place-items:center;
  cursor:pointer;
  transition:all .25s ease;
  z-index:10;
}
.lightbox__close{
  top:20px;
  right:20px;
  font-size:2.5rem;
  line-height:1;
}
.lightbox__prev{
  left:20px;
  top:50%;
  transform:translateY(-50%);
}
.lightbox__next{
  right:20px;
  top:50%;
  transform:translateY(-50%);
}
.lightbox__close:hover,
.lightbox__prev:hover,
.lightbox__next:hover{
  background:rgba(var(--accent-rgb), .35);
  transform:scale(1.08);
}
.lightbox__prev:hover{ transform:translateY(-50%) scale(1.08); }
.lightbox__next:hover{ transform:translateY(-50%) scale(1.08); }

/* Cursor pointer sulle card cliccabili */
.photo-card[data-gallery]{
  cursor:pointer;
}
.photo-card[data-gallery]:focus{
  outline:2px solid var(--accent);
  outline-offset:4px;
}

/* Mobile responsive adjustments */
@media (max-width: 768px){
  /* Navbar mobile: stack and pad */
  .navbar-collapse{
    background:#0d0d0e;
    padding:12px 14px;
    border-radius:12px;
    margin-top:8px;
  }
  .nav-link{
    padding:10px 0 !important;
  }
  
  /* Hero mobile: reduce padding, stack buttons */
  .hero{
    padding:100px 0 70px;
  }
  .hero .display-4{
    font-size:2rem;
  }
  .hero .lead{
    font-size:1rem;
  }
  .hero__cta{
    flex-direction:column;
    width:100%;
    max-width:280px;
    margin:0 auto;
  }
  .hero__cta .btn{
    width:100%;
  }

  /* Portfolio: single column on mobile */
  #portfolio .col-sm-6,
  #portfolio .col-lg-4{
    max-width:100%;
    flex:0 0 100%;
  }
  .photo-card{
    height:380px;
  }
  .photo-card img{
    height:200px;
  }

  /* About: stack columns, center profile */
  #about .col-lg-7,
  #about .col-lg-5{
    max-width:100%;
    flex:0 0 100%;
  }
  .about__profile-img{
    width:110px;
    height:110px;
  }
  .about-box{
    padding:24px 20px;
  }

  /* Section titles smaller */
  .section-title{
    font-size:1.75rem;
  }

  /* Instagram embed: smaller on mobile */
  .insta-frame blockquote{
    min-height:420px;
  }

  /* Contact: stack form columns */
  .contact-box{
    padding:24px 20px;
  }
  .contact-box .h5{
    font-size:1.1rem;
    word-break:break-word;
  }

  /* Footer: stack vertically */
  .footer{
    text-align:center;
    font-size:.8rem;
  }

  /* Lightbox: adjust controls for touch */
  .lightbox__content{
    max-width:95vw;
  }
  .lightbox__content img{
    max-height:70vh;
  }
  .lightbox__close{
    width:40px;
    height:40px;
    font-size:1.8rem;
    top:10px;
    right:10px;
  }
  .lightbox__prev,
  .lightbox__next{
    width:40px;
    height:40px;
    font-size:1.5rem;
  }
  .lightbox__prev{
    left:10px;
  }
  .lightbox__next{
    right:10px;
  }
}

/* Extra small phones: tighter spacing */
@media (max-width: 480px){
  .container{
    padding-left:16px;
    padding-right:16px;
  }
  .hero{
    padding:90px 0 60px;
  }
  .section{
    padding:50px 0;
  }
  .photo-card{
    height:360px;
  }
  .photo-card img{
    height:180px;
  }
  .about__profile-img{
    width:100px;
    height:100px;
  }
  .badge-skill{
    font-size:.65rem;
    padding:.4rem .6rem;
  }
}

/* Landscape mobile: adjust hero */
@media (max-width: 900px) and (orientation: landscape){
  .hero{
    padding:80px 0 50px;
  }
  .hero .display-4{
    font-size:1.8rem;
  }
}

/* Indicatore scroll in fondo alla hero */
.scroll-indicator{
  position: absolute;
  left:50%;
  bottom:24px;
  transform: translateX(-50%);
  display:inline-flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  color:#fff;
  opacity:.85;
  text-decoration:none;
  transition: opacity .25s ease, transform .25s ease;
}
.scroll-indicator:hover{ opacity:1; transform: translateX(-50%) translateY(2px); }
.scroll-indicator .chevron{
  width:16px; height:16px;
  border-right:2px solid rgba(255,255,255,.9);
  border-bottom:2px solid rgba(255,255,255,.9);
  transform: rotate(45deg);
  animation: chevronBounce 1.6s ease-in-out infinite;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.6));
}
.scroll-indicator .chevron--delay{ animation-delay: .25s; }

@keyframes chevronBounce{
  0%,100%{ transform: translateY(0) rotate(45deg); opacity:.75; }
  50%{ transform: translateY(6px) rotate(45deg); opacity:1; }
}

/* Ensure hero always fills the window and leaves room for the indicator */
.hero{
  min-height: 100svh;
  display: flex;
  align-items: center;
  padding-bottom: clamp(64px, 10vh, 120px);
}

/* Scroll indicator: high-contrast, above overlay */
.scroll-indicator{
  position:absolute;
  left:50%;
  bottom:22px;
  transform:translateX(-50%);
  display:grid;
  place-items:center;
  width:42px; height:42px;
  border-radius:50%;
  background: rgba(0,0,0,.38);
  border:1px solid rgba(255,255,255,.55);
  box-shadow: 0 8px 24px rgba(0,0,0,.45), 0 0 0 2px rgba(255,255,255,.08) inset;
  text-decoration:none;
  z-index: 3; /* above hero overlay and image */
}

.scroll-indicator .chevron{
  width:10px; height:10px;
  border-right:2px solid #fff;
  border-bottom:2px solid #fff;
  transform: rotate(45deg);
  animation: chevronDown 1.6s ease-in-out infinite;
  filter: drop-shadow(0 0 4px rgba(0,0,0,.6));
}
.scroll-indicator .chevron--delay{
  animation-delay: .3s;
  opacity:.85;
}

@keyframes chevronDown{
  0%   { opacity:0; transform: translateY(-4px) rotate(45deg); }
  40%  { opacity:1; transform: translateY(0) rotate(45deg); }
  100% { opacity:0; transform: translateY(6px) rotate(45deg); }
}

/* Compact on small screens */
@media (max-width: 576px){
  .scroll-indicator{ width:38px; height:38px; bottom:16px; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .scroll-indicator .chevron,
  .scroll-indicator .chevron--delay{
    animation: none;
    opacity: 1;
  }
}

/* Hero sempre a tutta finestra */
.hero{
  min-height: 100svh;
  display: flex;
  align-items: center;
  padding-bottom: clamp(64px, 10vh, 120px);
}

/* Indicatore scroll: fisso al bordo finestra, alta visibilità */
.scroll-indicator{
  position: fixed;                 /* fisso alla finestra */
  left: 50%;
  bottom: calc(env(safe-area-inset-bottom, 0px) + 16px); /* safe-area iOS */
  transform: translateX(-50%);
  display: grid;
  place-items: center;
  width: 42px; height: 42px;
  border-radius: 50%;
  background: rgba(0,0,0,.38);
  border: 1px solid rgba(255,255,255,.55);
  box-shadow: 0 8px 24px rgba(0,0,0,.45), 0 0 0 2px rgba(255,255,255,.08) inset;
  text-decoration: none;
  z-index: 10000;                  /* sopra overlay/immagine */
}

.scroll-indicator .chevron{
  width: 10px; height: 10px;
  border-right: 2px solid #fff;
  border-bottom: 2px solid #fff;
  transform: rotate(45deg);
  animation: chevronDown 1.6s ease-in-out infinite;
  filter: drop-shadow(0 0 4px rgba(0,0,0,.6));
}

@keyframes chevronDown{
  0%   { opacity:0; transform: translateY(-4px) rotate(45deg); }
  40%  { opacity:1; transform: translateY(0) rotate(45deg); }
  100% { opacity:0; transform: translateY(6px) rotate(45deg); }
}

@media (max-width: 576px){
  .scroll-indicator{ width: 38px; height: 38px; }
}

/* Riduci animazioni se preferite */
@media (prefers-reduced-motion: reduce){
  .scroll-indicator .chevron{ animation: none; opacity: 1; }
}

/* Hero fills the viewport; indicator sits at the bottom of the hero */
.hero{
  min-height: 100svh;
  display: flex;
  align-items: center;
  padding-bottom: clamp(64px, 10vh, 120px);
  position: relative;
}

/* Scroll indicator: attached to hero (not fixed) */
.scroll-indicator{
  position:absolute;             /* legato alla hero */
  left:50%;
  bottom:18px;
  transform:translateX(-50%);
  display:grid;
  place-items:center;
  width:42px; height:42px;
  border-radius:50%;
  background: rgba(0,0,0,.38);
  border:1px solid rgba(255,255,255,.55);
  box-shadow: 0 8px 24px rgba(0,0,0,.45), 0 0 0 2px rgba(255,255,255,.08) inset;
  text-decoration:none;
  z-index: 3;
  transition: opacity .25s var(--ease), transform .25s var(--ease), visibility .25s var(--ease);
}
.scroll-indicator .chevron{
  width:10px; height:10px;
  border-right:2px solid #fff;
  border-bottom:2px solid #fff;
  transform: rotate(45deg);
  animation: chevronDown 1.6s ease-in-out infinite;
  filter: drop-shadow(0 0 4px rgba(0,0,0,.6));
}

/* Hidden state when hero è visibile < 50% */
.scroll-indicator--hidden{
  opacity:0;
  transform:translateX(-50%) translateY(6px);
  visibility:hidden;
}

@keyframes chevronDown{
  0%   { opacity:0; transform: translateY(-4px) rotate(45deg); }
  40%  { opacity:1; transform: translateY(0) rotate(45deg); }
  100% { opacity:0; transform: translateY(6px) rotate(45deg); }
}

@media (max-width: 576px){
  .scroll-indicator{ width:38px; height:38px; bottom:14px; }
}

@media (prefers-reduced-motion: reduce){
  .scroll-indicator .chevron{ animation: none; opacity: 1; }
}

/* Hero image adjustment */
.hero-bg{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;        /* riempi la hero adattandoti alla finestra */
  object-position: center;  /* mantieni il soggetto centrato */
  background-color:#000;        /* bande riempite in nero */
  filter: brightness(0.65);     /* leggermente scurita per il testo */
  z-index: -1;
}

/* Reveal-on-scroll (più evidente, morbido) */
.reveal{
  opacity: 0;
  transform: translateY(36px) scale(.975);
  filter: blur(14px);
  will-change: opacity, transform, filter;
  transition:
    opacity .9s var(--ease),
    transform .9s var(--ease),
    filter .9s var(--ease);
  transition-delay: var(--reveal-delay, 0ms);
}
.reveal.is-visible{
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

/* Ridotto movimento: niente animazioni */
@media (prefers-reduced-motion: reduce){
  .reveal{
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    transition: none !important;
  }
}
